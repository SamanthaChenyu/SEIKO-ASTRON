!function(t,o){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return o(e,t,t.document)}):"object"==typeof module&&module.exports?module.exports=o(require("jquery"),t,t.document):o(jQuery,t,t.document)}("undefined"!=typeof window?window:this,function(i,r,s,t){"use strict";var u,h,l,f,d,p=[],g=[],m=[],v=[],y=0,a=0,w=1,S=!1,H=i(r),b=H.scrollTop(),E=!1,M=!1,x=!1,T=!1,D=[],I=(new Date).getTime(),c=!0,N=!1,k=0,L="onwheel"in s?"wheel":s.onmousewheel!==t?"mousewheel":"DOMMouseScroll",z={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,updateHash:!0,touchScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}};function O(e,t,o,n){if(a===e&&(o=!1),!0===T)return!0;if(g[e]){if(E=!1,o&&z.before(e,m),w=1,k=p[e],!1===c&&e<a&&!1===n&&v[e]&&(w=parseInt(m[e].outerHeight()/H.height()),k=parseInt(p[e])+(m[e].outerHeight()-H.height())),z.updateHash&&z.sectionName&&(!0!==c||0!==e))if(history.pushState)try{history.replaceState(null,null,g[e])}catch(e){r.console&&console.warn("Scrollify warning: Page must be hosted to manipulate the hash value.")}else r.location.hash=g[e];if(c&&(z.afterRender(),c=!1),a=e,t)i(z.target).stop().scrollTop(k),o&&z.after(e,m);else{if(M=!0,i().velocity?i(z.target).stop().velocity("scroll",{duration:z.scrollSpeed,easing:z.easing,offset:k,mobileHA:!1}):i(z.target).stop().animate({scrollTop:k},z.scrollSpeed,z.easing),r.location.hash.length&&z.sectionName&&r.console)try{i(r.location.hash).length&&console.warn("Scrollify warning: ID matches hash value - this will cause the page to anchor.")}catch(e){}i(z.target).promise().done(function(){c=M=!1,o&&z.after(e,m)})}}}function R(i){function e(e){for(var t=0,o=i.slice(Math.max(i.length-e,1)),n=0;n<o.length;n++)t+=o[n];return Math.ceil(t/e)}var t=e(10);return e(70)<=t}var e=function(e){function t(e){i().velocity?i(z.target).stop().velocity("scroll",{duration:z.scrollSpeed,easing:z.easing,offset:e,mobileHA:!1}):i(z.target).stop().animate({scrollTop:e},z.scrollSpeed,z.easing)}function o(e){e&&(b=H.scrollTop());var t=z.section;v=[],z.interstitialSection.length&&(t+=","+z.interstitialSection),!1===z.scrollbars&&(z.overflowScroll=!1),i(t).each(function(e){var t=i(this);z.setHeights?t.is(z.interstitialSection)?v[e]=!1:t.css("height","auto").outerHeight()<H.height()||"hidden"===t.css("overflow")?(t.css({height:H.height()}),v[e]=!1):(t.css({height:t.height()}),z.overflowScroll?v[e]=!0:v[e]=!1):t.outerHeight()<H.height()||!1===z.overflowScroll?v[e]=!1:v[e]=!0}),e&&H.scrollTop(b)}function n(e,t){var o=z.section;z.interstitialSection.length&&(o+=","+z.interstitialSection),p=[],g=[],m=[],i(o).each(function(e){var t=i(this);p[e]=0<e?parseInt(t.offset().top)+z.offset:parseInt(t.offset().top),z.sectionName&&t.data(z.sectionName)?g[e]="#"+t.data(z.sectionName).toString().replace(/ /g,"-"):!1===t.is(z.interstitialSection)?g[e]="#"+(e+1):(g[e]="#",e===i(o).length-1&&1<e&&(p[e]=p[e-1]+(parseInt(i(i(o)[e-1]).outerHeight())-parseInt(i(r).height()))+parseInt(t.outerHeight()))),m[e]=t;try{i(g[e]).length&&r.console&&console.warn("Scrollify warning: Section names can't match IDs - this will cause the browser to anchor.")}catch(e){}r.location.hash===g[e]&&(y=e,S=!0)}),!0===e&&O(y,!1,!1,!1)}function a(){return!v[y]||!((b=H.scrollTop())>parseInt(p[y]))}function c(){return!v[y]||!((b=H.scrollTop())<parseInt(p[y])+(m[y].outerHeight()-H.height())-28)}N=!0,i.easing.easeOutExpo=function(e,t,o,n,i){return t==i?o+n:n*(1-Math.pow(2,-10*t/i))+o},l={handleMousedown:function(){if(!0===T)return!0;x=E=!1},handleMouseup:function(){if(!0===T)return!0;E=!0,x&&l.calculateNearest(!1,!0)},handleScroll:function(){if(!0===T)return!0;u&&clearTimeout(u),u=setTimeout(function(){if(x=!0,!1===E)return!1;E=!1,l.calculateNearest(!1,!0)},200)},calculateNearest:function(e,t){b=H.scrollTop();for(var o,n=1,i=p.length,r=0,s=Math.abs(p[0]-b);n<i;n++)(o=Math.abs(p[n]-b))<s&&(s=o,r=n);(c()&&y<r||a())&&O(y=r,e,t,!1)},wheelHandler:function(e){if(!0===T)return!0;if(z.standardScrollElements&&(i(e.target).is(z.standardScrollElements)||i(e.target).closest(z.standardScrollElements).length))return!0;v[y]||e.preventDefault();var t=(new Date).getTime(),o=(e=e||r.event).originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail,n=Math.max(-1,Math.min(1,o));if(149<D.length&&D.shift(),D.push(Math.abs(o)),200<t-I&&(D=[]),I=t,M)return!1;if(n<0){if(y<p.length-1&&c()){if(!R(D))return!1;e.preventDefault(),O(++y,!1,M=!0,!1)}}else if(0<n&&0<y&&a()){if(!R(D))return!1;e.preventDefault(),O(--y,!1,M=!0,!1)}},keyHandler:function(e){return!0===T||!0!==M&&void(38==e.keyCode||33==e.keyCode?0<y&&a()&&(e.preventDefault(),O(--y,!1,!0,!1)):40!=e.keyCode&&34!=e.keyCode||y<p.length-1&&c()&&(e.preventDefault(),O(++y,!1,!0,!1)))},init:function(){z.scrollbars?(H.on("mousedown",l.handleMousedown),H.on("mouseup",l.handleMouseup),H.on("scroll",l.handleScroll)):i("body").css({overflow:"hidden"}),H.on(L,l.wheelHandler),H.on("keydown",l.keyHandler)}},f={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(e){if(!0===T)return!0;if(z.standardScrollElements&&(i(e.target).is(z.standardScrollElements)||i(e.target).closest(z.standardScrollElements).length))return!0;var t;if(void 0!==e&&void 0!==e.touches)switch(t=e.touches[0],e.type){case"touchstart":f.touches.touchstart.y=t.pageY,f.touches.touchmove.y=-1,f.touches.touchstart.x=t.pageX,f.touches.touchmove.x=-1,f.options.timeStamp=(new Date).getTime(),f.touches.touchend=!1;case"touchmove":f.touches.touchmove.y=t.pageY,f.touches.touchmove.x=t.pageX,f.touches.touchstart.y!==f.touches.touchmove.y&&Math.abs(f.touches.touchstart.y-f.touches.touchmove.y)>Math.abs(f.touches.touchstart.x-f.touches.touchmove.x)&&(e.preventDefault(),f.touches.direction="y",f.options.timeStamp+f.options.timeGap<(new Date).getTime()&&0==f.touches.touchend&&(f.touches.touchend=!0,-1<f.touches.touchstart.y&&Math.abs(f.touches.touchmove.y-f.touches.touchstart.y)>f.options.distance&&(f.touches.touchstart.y<f.touches.touchmove.y?f.up():f.down())));break;case"touchend":!1===f.touches[e.type]&&(f.touches[e.type]=!0,-1<f.touches.touchstart.y&&-1<f.touches.touchmove.y&&"y"===f.touches.direction&&(Math.abs(f.touches.touchmove.y-f.touches.touchstart.y)>f.options.distance&&(f.touches.touchstart.y<f.touches.touchmove.y?f.up():f.down()),f.touches.touchstart.y=-1,f.touches.touchstart.x=-1,f.touches.direction="undetermined"))}},down:function(){y<p.length-1&&(c()&&y<p.length-1?O(++y,!1,!0,!1):Math.floor(m[y].height()/H.height())>w?(t(parseInt(p[y])+H.height()*w),w+=1):t(parseInt(p[y])+(m[y].outerHeight()-H.height())))},up:function(){0<=y&&(a()&&0<y?O(--y,!1,!0,!1):2<w?(w-=1,t(parseInt(p[y])+H.height()*w)):(w=1,t(parseInt(p[y]))))},init:function(){s.addEventListener&&z.touchScroll&&(s.addEventListener("touchstart",f.touchHandler,!1),s.addEventListener("touchmove",f.touchHandler,!1),s.addEventListener("touchend",f.touchHandler,!1))}},d={refresh:function(e,t){clearTimeout(h),h=setTimeout(function(){o(!0),n(t,!1),e&&z.afterResize()},400)},handleUpdate:function(){d.refresh(!1,!1)},handleResize:function(){d.refresh(!0,!1)},handleOrientation:function(){d.refresh(!0,!0)}},z=i.extend(z,e),o(!1),n(!1,!0),!0===S?O(y,!1,!0,!0):setTimeout(function(){l.calculateNearest(!0,!1)},200),p.length&&(l.init(),f.init(),H.on("resize",d.handleResize),s.addEventListener&&r.addEventListener("orientationchange",d.handleOrientation,!1))};function o(e,t){for(var o=g.length;0<=o;o--)"string"==typeof e?g[o]===e&&O(y=o,t,!0,!0):o===e&&O(y=o,t,!0,!0)}return e.move=function(e){if(e===t)return!1;e.originalEvent&&(e=i(this).attr("href")),o(e,!1)},e.instantMove=function(e){if(e===t)return!1;o(e,!0)},e.next=function(){y<g.length&&O(y+=1,!1,!0,!0)},e.previous=function(){0<y&&O(y-=1,!1,!0,!0)},e.instantNext=function(){y<g.length&&O(y+=1,!0,!0,!0)},e.instantPrevious=function(){0<y&&O(y-=1,!0,!0,!0)},e.destroy=function(){if(!N)return!1;z.setHeights&&i(z.section).each(function(){i(this).css("height","auto")}),H.off("resize",d.handleResize),z.scrollbars&&(H.off("mousedown",l.handleMousedown),H.off("mouseup",l.handleMouseup),H.off("scroll",l.handleScroll)),H.off(L,l.wheelHandler),H.off("keydown",l.keyHandler),s.addEventListener&&z.touchScroll&&(s.removeEventListener("touchstart",f.touchHandler,!1),s.removeEventListener("touchmove",f.touchHandler,!1),s.removeEventListener("touchend",f.touchHandler,!1)),p=[],g=[],m=[],v=[]},e.update=function(){if(!N)return!1;d.handleUpdate()},e.current=function(){return m[y]},e.disable=function(){T=!0},e.enable=function(){T=!1,N&&l.calculateNearest(!1,!1)},e.isDisabled=function(){return T},e.setOptions=function(e){if(!N)return!1;"object"==typeof e?(z=i.extend(z,e),d.handleUpdate()):r.console&&console.warn("Scrollify warning: setOptions expects an object.")},i.scrollify=e});